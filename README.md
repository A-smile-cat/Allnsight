## “云瞰泽影”—滨海湿地外来入侵物种互花米草智能监测与评估系统
## （遥感图像智能化解译云平台）
### 系统主要业务功能

#### （1）系统以及用户管理模块：
① 用户登录、注册、修改个人信息；

② 用户角色管理、角色权限分配：系统管理员可以管理不同角色的权限，控制用户访问的权限范围；每个用户角色可以被赋予不同的权限，例如对模型、数据集、文章的管理权限；角色之间可以有不同的权限配置，确保不同级别用户的操作权限分配合理；

③ 用户信息查看与编辑；

#### （2）文章管理模块：
① 文章发布、编辑、删除和查看功能；

② 文章内容可以选择Markdown格式编辑，支持富文本显示；

③ 文章的公开与隐藏状态管理；

④ 具备摘要编辑功能，能够查看文章的简略信息；

#### （3）数据集管理模块：
① 数据集能够进行上传、下载和删除；

② 每个数据集都有文件路径、哈希值和文件大小的记录，确保数据的一致性；

③ 数据集与用户进行绑定，确保了用户数据的私密性；

④ 对于处于不同异常状态的数据集，数据删除的操作进行不同处理，例如：未上传成功的数据集无法删除文件，只能删除上传记录；

#### （4）模型训练模块：
① 能够创建、查看、编辑训练任务；

② 能够编辑详细的训练内容，包括名称、训练次数等；

③ 能够提供查询已创建的训练任务列表；

④ 支持查看历史训练记录；

⑤ 在进行修改时，可以对正在进行训练的模型状态进行判断，正在进行训练的模型无法删改；

#### （5）图像处理模块
① 根据上传的图像，选择分类模型进行图像分类；能够根据选定的模型给出分类结果及文件导出；

③ 实现给定图片的分割功能，能够根据分割模型，给出分割掩码图和叠加结果图，并提供图像的导出下载功能；

#### （6）模型管理模块
① 能够提供训练模型供使用者进行下载；

② 配备了搜索功能，能够根据输入的模型名称、类型等来查找模型；

③ 提供了模型的上传功能，能够自定义上传模型的名称以及匹配的类型，并且能够添加模型描述。

### 项目安全方面的主要功能

（1）项目登录页面，支持强口令，要求用户输入密码长度至少为6位。数字、大写字母、小写字母、特殊符号至少包含两种。通过前端和后端两次进行密码长度及复杂度的验证，保证了用户口令的安全性。

（2）项目登录页面采用4位数字加字母的图形验证码，防止自动化程序恶意登录（如暴力破解、批量注册等）。系统注册及重置密码功能采用6位动态邮箱验证码，实现用户身份二次验证、强身份认证的安全功能。

（3）用户注册时输入的口令通过加盐哈希算法，在数据库中以密文方式存储，保证了敏感数据的机密性。

（4）项目后端使用MyBatis的Mapper接口和XML配置文件操纵数据库，使相关操作可以防止SQL注入。#{}占位符会将传入的参数安全地绑定到SQL语句中。MyBatis会将#{}中的内容作为参数传递给PreparedStatement，而不是直接将用户输入的内容嵌入到SQL语句中。这样，MyBatis使用JDBC的预编译特性，自动对参数进行转义，避免了SQL注入的风险。

（5）系统实现了修改密码、重置密码功能。

（6）系统实现了安全退出功能。当用户点击退出登录、切换账号、关闭当前网站所有页面或直接关闭浏览器后，均不能查看历史页面。

（7）在使用后台页面的所有功能时，均通过系统后端代码进行Session校验，保证了用户不会绕过登陆。从Session获取user_id并强制设置到数据对象，避免前端篡改。敏感字段通过后端控制，充分避免了横向越权漏洞。在后端通过使用大量的数据存在性检验代码，保证了用户对数据的操作是在权限允许的范围内进行的。

（8）系统设置了统一的出错页面，该出错页面具有用户友好的交互性提示。

（9）在处理文件上传和下载时，后端通过校验文件的哈希值，确保了文件上传和下载时的完整性。

（10）通过前端和后端对文件类型的严格检验，控制文件及文件所在目录的执行权限，尽最大程度避免了文件上传漏洞的产生。

（11）前端通过Vue渲染，进行了对XSS攻击的防范。Vue在patchVnode中处理子节点的代码中有如下逻辑：如果vnode子节点为基本类型如字符串，那么该文本会通过createTextNode方法生成文本节点，然后插入父节点，所以使用Vue模板插值或v-text标签有效防止XSS攻击。Vue默认会对模板中的数据进行HTML转义，确保输出的内容是纯文本，防止恶意脚本执行。这一特性有效防止了反射型和存储型XSS攻击。

（12）系统实现了不同角色的用户登录成功后的内容及可以使用的功能的不同，然后通过查询数据库动态生成后台系统菜单导航，实现了高效且安全的访问控制，便于实现不同用户角色所拥有菜单访问权限的更改。

（13）前端安全配置主要包括路由拦截与权限控制。通过router.beforeEach钩子函数，在页面跳转前验证用户登录状态：对需要认证的路由（meta.requireAuth为true），先检查前端存储的用户信息，再调用后端authApi接口校验登录状态是否有效，若无效则清除登录信息并跳转登录页；针对已登录用户访问登录页的情况，会再次校验后端认证状态，防止非法绕过。同时，动态加载管理员菜单时，先检查菜单是否已加载，避免重复请求，确保路由权限与后端菜单数据一致。

（14）后端安全配置包含跨域与接口前缀设置。通过WebConfig配置类，使用addCorsMappings方法允许来自 http://localhost:8080 和 http://localhost:8081 的跨域请求，支持所有请求方法、请求头，并允许携带凭证，有效解决前后端分离部署的跨域问题；通过configurePathMatch方法为标注@RestController的控制器统一添加/api接口前缀，规范接口路径，便于接口管理与安全策略统一应用。

（15）前后端交互安全方面，前端通过axios请求拦截器在请求头中携带token（存储于sessionStorage），后端通过校验请求头中的Authorization字段实现认证；响应拦截器对非文件下载接口的返回数据进行统一解析，若返回码非200则提示错误信息，防止异常数据误导用户。
### 项目待完成工作
（1）后台系统中“模型训练”任务模块，没有完成与Python Flask应用的对接。模型训练功能仅可在后端页面显示、新建训练任务及完成数据库的增删改，并不能真正地提交给Python计算程序进行模型训练工作及完成模型训练任务，并不能真正地更改为“训练中”或“训练完成”的状态；

（2）后台系统中“图像处理”—“图像分割”功能模块，没有完成图片批量导入的功能；

（3）对Session的处理存在问题，未完成对用户刷新页面造成自动退出登录的功能缺陷进行修复；

（4）收集用户个人信息时未考虑必要性，相关代码需要完善。

